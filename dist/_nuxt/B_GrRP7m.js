import{_ as X}from"./BKCXOesK.js";import{_ as z}from"./BmdOhn1b.js";import{_ as E}from"./B3qdt_GA.js";import{v as W}from"./BYw7f3vo.js";import{al as Y,r as I,w as K,H as Q,$ as r,a4 as e,u as s,W as b,X as l,ad as G,D as c,F as x,ac as g,ag as J,V as i,a6 as m,ah as O,a5 as u,ai as Z,aa as w,ab as ee,a9 as te}from"./C4IK2AjC.js";import{$ as se,i as oe,u as ne}from"./QHZ_BPHT.js";import{u as ie}from"./BotqUg66.js";import{_ as le}from"./bKiWB3AL.js";import{_ as ae}from"./D3OYlhAI.js";import{_ as ce,a as re,b as _e,c as de}from"./vvXXy0xS.js";import{u as me}from"./j5w3CbAX.js";import{M as ue}from"./Dl86AAgW.js";import{_ as pe,M as he}from"./DcnXM14p.js";import{D as fe}from"./CQcSptmg.js";import{_ as xe}from"./DkOi0xjx.js";import"./BvcJ9o6n.js";import"./BNUY2ILy.js";import"./BbnbbUkH.js";import"./8KGax0iF.js";import"./Dt89uj0v.js";import"./DnbTe_kO.js";import"./CLFzEa0p.js";import"./D3Dqr0AZ.js";import"./DS6Ep8oh.js";import"./BzE5DoKl.js";import"./xjDQqpxK.js";import"./AwZOQwEF.js";import"./COqob18v.js";import"./CaEFfQaZ.js";import"./Dx27d-PK.js";import"./B_FpwJHq.js";const ge={class:"sidebar lessons_view bg-white md:p-8 p-4 pt-6 sm:rounded-[6px] overflow-hidden overflow-y-auto md:max-h-[calc(100vh_-_160px)] md:min-h-[calc(100vh_-_160px)] max-h-[calc(100vh_-_135px)] min-h-[calc(100vh_-_135px)]"},be=e("h1",{class:"font-semibold md:text-[28px] text-xl"},"Assalomu alaykum",-1),we=e("p",{class:"font-medium text-sm mt-1 _c66"},"Bugun nimani o‘rganmoqchisiz?",-1),ve={class:"flex items-center justify-between"},ye=e("h2",{class:"md:text-xl font-medium md:mt-[30px] mt-4"},"Fanlar",-1),ke=e("img",{class:"ml-2",src:le,alt:""},null,-1),Se={key:0,class:"grid xl:grid-cols-2 gap-5 mt-3 pb-20"},je={key:1},Ce={class:"grid xl:grid-cols-2 gap-5 mt-3 pb-20"},Be={class:"relative flex items-end justify-between lesson_shadow bg-white p-5 r_10 h-[160px]"},$e=e("img",{class:"cursor-pointer min-w-[20px]",src:ae,alt:""},null,-1),Le={class:"font-medium md:text-2xl text-xl"},qe={class:"flex items-center _c92 mt-[6px] mb-5 gap-4"},De={class:"flex gap-[10px]"},Fe=e("img",{src:ce,alt:""},null,-1),Me={class:"flex items-center gap-[10px]"},Ve=e("img",{src:re,alt:""},null,-1),Te={class:"flex gap-1"},Ue=["onClick"],He={class:"full_flex relative"},Ne={class:"_c92 full_flex absolute flex-col min-w-fit"},Pe=e("h1",{class:"text-[10px] _c92"},"Barchasi",-1),Ae={class:"text-center"},Re={class:"black_24 text-xl"},Xe=e("hr",{class:"border-[#929292]"},null,-1),ze={class:"text-sm px-2 mt-1 _c92"},Ee={key:2,class:"full_flex h-full py-20 flex-col space-y-4"},We=e("img",{class:"h-20",src:_e,alt:""},null,-1),Ye=e("p",null,"Hech qanday kurslar topilmadi",-1),Ie=[We,Ye],Ke={class:"flex justify-between items-center w-full"},Qe={class:"font-semibold text-2xl"},Ge={key:0},Je={key:1},Oe={class:"space-y-2"},Ze=e("label",{for:"name"},"Fan nomi",-1),et=e("div",{class:"space-y-6"},[e("h1",{class:"font-semibold text-lg"},"Fanni o'chirish"),e("p",null,"Haqiqatdan ham bu fanni o'chirmoqchimisiz?")],-1),tt={class:"flex items-center gap-5 mt-5"},Vt={__name:"index",async setup(st){let v,y;const $=[J],{formatSecondsToHours:L}=me(),t=se(),p=oe(),q=ne();[v,y]=Y(()=>ie(()=>t.getSubjects(),"$VW7CcoVkP5")),await v,y();const D=["1-sinf","2-sinf","3-sinf","4-sinf","5-sinf","6-sinf","7-sinf","8-sinf","9-sinf","10-sinf","11-sinf"],d=I({reyting:50,mouse_wheel:0});function F(){setTimeout(()=>{},200)}function M(a){a.deltaX>0?(d.mouse_wheel+=1,d.mouse_wheel%10==0&&(useLesson.store.class+=1,d.mouse_wheel=0),console.log("Scrolling to the right")):a.deltaX<0&&(d.mouse_wheel+=1,d.mouse_wheel%10==0&&(useLesson.store.class-=1,d.mouse_wheel=0),console.log("Scrolling to the left"))}function V(a){t.store.subject_id=a,t.modal.delete=!0}function T(a){for(let o in t.create)t.create[o]=a[o];t.store.subject_id=a.id,t.modal.edit=!0,t.modal.create=!0}return K(()=>t.modal.create,()=>{console.log(t.modal.create),t.modal.create||(t.modal.edit=!1,t.clearData())}),Q(()=>{const a=document.querySelector(".swiper-pagination-clickable"),o=a==null?void 0:a.children[+q.currentRoute.value.query.class];o&&o.click()}),(a,o)=>{var C;const h=X,U=xe,H=z,k=pe,N=he,P=fe,A=de,R=E,S=ue,j=W;return i(),r("main",ge,[e("section",null,[be,we,e("div",ve,[ye,s(p).user.data.current_role=="admin"?(i(),b(h,{key:0,onClick:o[0]||(o[0]=n=>s(t).modal.create=!0),class:"bg_orange font-semibold white !px-6"},{default:l(()=>[m("Qo‘shish")]),_:1})):G("",!0)]),e("div",null,[c(U,{value:s(t).store.class,"onUpdate:value":o[1]||(o[1]=n=>s(t).store.class=n),class:"md:hidden block mt-4 w-[140px] sr_12",options:D.map((n,B)=>({value:B+1,label:n})),required:""},{suffixIcon:l(()=>[ke]),_:1},8,["value","options"])])]),s(p).isLoadingType("get")?(i(),r("section",Se,[(i(),r(x,null,g(6,n=>c(H,{class:"!h-[168px]"})),64))])):(C=s(t).store.subjects)!=null&&C.length?(i(),r("section",je,[c(s(Z),{onMousewheel:M,onSliderMove:F,watchSlidesProgress:!0,slidesPerView:1,spaceBetween:30,pagination:{clickable:!0},class:"mySwiper md:mt-[18px] mt-2",modules:$},{default:l(()=>[(i(),r(x,null,g(11,(n,B)=>c(s(O),{id:n},{default:l(()=>[e("section",Ce,[(i(!0),r(x,null,g(s(t).store.subjects,_=>(i(),r("div",Be,[c(P,{class:"absolute top-4 right-4",trigger:["click"],placement:"bottomRight"},{overlay:l(()=>[c(N,null,{default:l(()=>[c(k,{onClick:f=>T(_)},{default:l(()=>[m("Edit")]),_:2},1032,["onClick"]),c(k,{onClick:f=>V(_.id)},{default:l(()=>[m("Delete")]),_:2},1032,["onClick"])]),_:2},1024)]),default:l(()=>[$e]),_:2},1024),e("div",null,[e("h1",Le,u(_.title),1),e("div",qe,[e("div",De,[Fe,m(" "+u(_.coursesCount),1)]),e("div",Me,[Ve,e("p",Te,[(i(!0),r(x,null,g(s(L)(_.totalDuration),f=>(i(),r("span",null,u(f),1))),256))])])]),e("button",{onClick:f=>a.$router.push(`/subjects/${_.title}/courses?class=${s(t).store.class}`),class:"bg_orange h-10 px-5 r_10 white"}," Keyingi ",8,Ue)]),e("div",He,[c(A,{class:"!h-[92px] !w-[92px]",type:"circle",percent:s(d).reyting},null,8,["percent"]),e("div",Ne,[Pe,e("div",Ae,[e("p",Re,u(_.finished_step),1),Xe,e("p",ze,u(_.coursesCount),1)])])])]))),256))])]),_:2},1032,["id"])),64))]),_:1})])):(i(),r("section",Ee,Ie)),c(S,{class:"max-w-[440px]",open:s(t).modal.create,"onUpdate:open":o[4]||(o[4]=n=>s(t).modal.create=n),centered:""},{default:l(()=>[e("div",Ke,[e("h1",Qe,[s(t).modal.edit?(i(),r("span",Ge,"Fanni tahrirlash")):(i(),r("span",Je,"Fan qo'shish"))])]),e("form",{class:"space-y-5 _c45 mt-[30px]",onSubmit:o[3]||(o[3]=te((...n)=>s(t).createSubjects&&s(t).createSubjects(...n),["prevent"]))},[e("div",Oe,[Ze,w(e("input",{"onUpdate:modelValue":o[2]||(o[2]=n=>s(t).create.title=n),class:"rounded-[12px]",id:"name",type:"text"},null,512),[[ee,s(t).create.title]])]),w((i(),b(h,{type:"submit",class:"!h-12 w-full bg_orange !mt-[54px] font-semibold white"},{default:l(()=>[m(" Yaratish "),c(R)]),_:1})),[[j,s(p).isLoadingType("updateSubject")]])],32)]),_:1},8,["open"]),c(S,{width:"200",open:s(t).modal.delete,"onUpdate:open":o[6]||(o[6]=n=>s(t).modal.delete=n),centered:""},{default:l(()=>[et,e("div",tt,[c(h,{onClick:o[5]||(o[5]=n=>s(t).modal.delete=!1),class:"border border-[#BBBBBB] !h-10"},{default:l(()=>[m("Yo'q")]),_:1}),w((i(),b(h,{onClick:s(t).deleteSubject,class:"bg_orange white !h-10"},{default:l(()=>[m("Ha")]),_:1},8,["onClick"])),[[j,s(p).isLoadingType("deleteSubject")]])])]),_:1},8,["open"])])}}};export{Vt as default};
