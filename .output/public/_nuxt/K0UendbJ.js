import{_ as ns}from"./D4T3qUNc.js";import{_ as as}from"./DUc2yMY7.js";import{c as cs,al as rs,r as is,w as X,G as ds,H as us,$ as a,u as e,a4 as s,D as y,X as x,a6 as B,a5 as u,F as $,ac as D,V as l,W as H,ad as V,aa as _s,ab as ps,a9 as ms,a7 as hs,a8 as fs}from"./C4IK2AjC.js";import{_ as xs,R as bs,$ as gs,i as vs,u as ys}from"./BtAxX0_w.js";import{u as ws}from"./ItsZpkMe.js";import{_ as J}from"./DjMDzfwj.js";import{_ as G,a as K}from"./CaPaUSTr.js";import{_ as ss,a as ks}from"./CvJeMNre.js";import{_ as ts}from"./DKIhSMag.js";import{_ as $s}from"./BFeF5Ghm.js";import{u as Ds}from"./j5w3CbAX.js";import{D as Rs}from"./CjhQcbCL.js";import{M as Cs}from"./BY3b0UwT.js";import{_ as js,M as Ms}from"./CGirGYBv.js";import{_ as Es}from"./GnkDkLtG.js";import"./BGByfzyt.js";import"./Day_P1Xw.js";import"./BFoCny3r.js";import"./WlvfHbwO.js";import"./BS0pzXzz.js";import"./CAONUNua.js";import"./CLFzEa0p.js";import"./--Ek39x5.js";import"./CsAQjXPT.js";import"./9_yndjdY.js";import"./5o9V-pbp.js";import"./AwZOQwEF.js";import"./Dx27d-PK.js";import"./0lYqZ0q2.js";import"./Dz5QmZtL.js";const c=N=>(hs("data-v-b56f3235"),N=N(),fs(),N),Ss={class:"bg-white md:rounded-[6px] md:p-[30px] p-4 overflow-hidden overflow-y-auto md:max-h-[calc(100vh_-_160px)] md:min-h-[calc(100vh_-_160px)] max-h-[100vh] min-h-[100vh] pb-20"},qs={key:0},Ls={class:"flex items-center justify-between _c92 border-b border-[#EDEDED] pb-4 mb-5"},Bs=c(()=>s("img",{src:J,alt:""},null,-1)),Ns=c(()=>s("p",{class:"text-lg font-semibold sm:block hidden"},"Orqaga",-1)),Ts=[Bs,Ns],Ys={class:"flex flex-wrap gap-5 justify-between pb-6"},Is={class:"flex items-center justify-between"},zs={class:"font-semibold text-xl"},Us={class:"text-md _c66"},Vs={class:"flex md:gap-[60px] gap-10 mt-1"},As=c(()=>s("h1",{class:"_cab"},"Sinf",-1)),Fs={class:"flex items-center justify-between cursor-pointer font-medium w-[100px]"},Os=c(()=>s("p",{class:"full_flex b_cff3 w-5 h-5 rounded-full"},[s("img",{src:G,alt:""})],-1)),Ps=c(()=>s("p",{class:"md:hidden block h-4 b_cf6 -mx-4"},null,-1)),Xs={class:"mt-5"},Hs={class:"font-medium text-xl"},Gs={class:"text-sm _c66"},Qs={class:"overflow-x-auto sm:mx-0 -mx-4"},Ws={class:"draggable-table mt-6 w-full text-start whitespace-nowrap"},Zs=c(()=>s("thead",null,[s("tr",null,[s("th",{class:"pr-6 text-start font-[400] pb-[6px] _cab sm:table-cell hidden"}," № "),s("th",{class:"sm:px-6 px-4 text-start font-[400] pb-[6px] _cab"}," Mavzu "),s("th",{class:"px-6 font-[400] pb-[6px] _cab sm:table-cell hidden"}," Dars davomiyligi "),s("th",{class:"px-6 font-[400] pb-[6px] _cab sm:table-cell hidden"}," Topshirganlar "),s("th",{class:"px-6 font-[400] pb-[6px] _cab sm:table-cell hidden"}," Yechim "),s("th",{class:"px-6 font-[400] pb-[6px] _cab min-w-[70px]"})])],-1)),Js=["onClick"],Ks={class:"py-6 pr-6 sm:block hidden"},st={class:"sm:py-6 py-3 sm:px-6 px-4"},tt={key:0,class:"sm:hidden flex gap-1 font-medium _c99 mt-1"},et={class:"full_flex py-6 px-6"},ot={key:0,class:"sm:flex gap-1 hidden"},lt={class:"py-6 px-6 text-center sm:table-cell hidden"},nt=c(()=>s("td",{class:"py-6 px-6 sm:table-cell hidden"},[s("img",{class:"mx-auto",src:K,alt:""})],-1)),at={class:"sm:py-6 py-3 sm:px-6 px-4 min-w-[70px]"},ct={key:0,class:"mx-auto w-6 h-6",src:ss,alt:""},rt={key:1,class:"mx-auto w-6 h-6",src:ts,alt:""},it={key:1,class:"pb-[100px]"},dt={class:"flex items-center justify-between _c92 md:border-b border-[#EDEDED] pb-4 mb-5"},ut=c(()=>s("img",{src:J,alt:""},null,-1)),_t=c(()=>s("p",{class:"text-lg font-semibold sm:block hidden"},"Orqaga",-1)),pt=[ut,_t],mt=c(()=>s("div",null,null,-1)),ht={class:"flex items-end justify-between gap-6 flex-wrap"},ft={class:"md:space-y-1 space-y-[10px]"},xt={class:"font-semibold md:text-[28px] text-xl"},bt=c(()=>s("p",{class:"md:text-[16px] text-sm _c66"}," Bugun nimani o‘rganmoqchisiz? ",-1)),gt={class:"flex flex-wrap md:gap-[60px] gap-10 md:text-[16px] text-sm"},vt=c(()=>s("h1",{class:"_cab"},"Sinf",-1)),yt={class:"flex items-center justify-between cursor-pointer font-medium w-[100px]"},wt=c(()=>s("p",{class:"full_flex b_cff3 w-5 h-5 rounded-full"},[s("img",{src:G,alt:""})],-1)),kt=c(()=>s("h1",{class:"_cab"},"Darslik",-1)),$t={class:"flex items-center justify-between cursor-pointer font-medium w-[100px]"},Dt=c(()=>s("p",{class:"full_flex b_cff3 w-5 h-5 rounded-full"},[s("img",{src:G,alt:""})],-1)),Rt=c(()=>s("p",{class:"md:hidden block h-4 b_cf6 -mx-4 mt-6"},null,-1)),Ct={class:"md:mt-[30px] mt-5"},jt={class:"font-medium text-xl"},Mt={class:"text-sm _c66"},Et={class:"overflow-x-auto sm:mx-0 -mx-4"},St={class:"draggable-table mt-6 w-full text-start whitespace-nowrap"},qt=c(()=>s("thead",null,[s("tr",null,[s("th",{class:"pr-6 text-start font-[400] pb-[6px] _cab sm:table-cell hidden"}," № "),s("th",{class:"sm:px-6 px-4 text-start font-[400] pb-[6px] _cab"}," Mavzu "),s("th",{class:"px-6 font-[400] pb-[6px] _cab sm:table-cell hidden"}," Dars davomiyligi "),s("th",{class:"px-6 font-[400] pb-[6px] _cab sm:table-cell hidden"}," Topshirganlar "),s("th",{class:"px-6 font-[400] pb-[6px] _cab sm:table-cell hidden"}," Yechim "),s("th",{class:"px-6 font-[400] pb-[6px] _cab min-w-[70px]"})])],-1)),Lt=["onClick"],Bt={class:"py-6 pr-6 sm:block hidden"},Nt={class:"sm:py-6 py-3 sm:px-6 px-4"},Tt={key:0,class:"sm:hidden flex gap-1 font-medium _c99 mt-1"},Yt={class:"full_flex py-6 px-6"},It={key:0,class:"sm:flex gap-1 hidden"},zt={class:"py-6 px-6 text-center sm:table-cell hidden"},Ut=c(()=>s("td",{class:"py-6 px-6 sm:table-cell hidden"},[s("img",{class:"mx-auto",src:K,alt:""})],-1)),Vt={class:"sm:py-6 py-3 sm:px-6 px-4 min-w-[70px]"},At={key:0,class:"mx-auto w-6 h-6",src:ss,alt:""},Ft={key:1,class:"mx-auto w-6 h-6",src:ks,alt:""},Ot={key:2,class:"mx-auto w-6 h-6",src:ts,alt:""},Pt=c(()=>s("div",{class:"flex justify-between items-center w-full"},[s("h1",{class:"font-semibold text-2xl"},"Mavzu qo‘shish")],-1)),Xt={class:"space-y-2"},Ht=c(()=>s("label",{for:"name"},"Mavzu nomi",-1)),Gt={class:"space-y-2"},Qt=c(()=>s("label",null,"Sinf",-1)),Wt={class:"flex justify-between"},Zt={class:"flex items-center gap-2 w-full"},Jt=c(()=>s("p",{class:"h-4 w-[1px] bg-[#999999]"},null,-1)),Kt=c(()=>s("img",{class:"ml-2",src:$s,alt:""},null,-1)),se={__name:"index",async setup(N){let Q,W;const{formatSecondsToHours:T}=Ds(),i=bs(),Z=gs(),es=vs(),d=ys(),q=cs(["1-sinf","2-sinf","3-sinf","4-sinf","5-sinf","6-sinf","7-sinf","8-sinf","9-sinf","10-sinf","11-sinf"]);[Q,W]=rs(()=>ws(()=>i.getLessons(),"$ATgngnq3iZ")),await Q,W();const b=is({subject:d.currentRoute.value.params.subject,class:d.currentRoute.value.query.class});console.log(d.currentRoute.value.params.subject),isNaN(d.currentRoute.value.query.class)&&(console.log(d.currentRoute.value.params.subject),d.push(`/lessons/${b.subject}?class=1`));function os(h,r,g){(g||r==0)&&d.push(`${d.currentRoute.value.path}/${h.id}?class=${d.currentRoute.value.query.class}`)}return X(()=>b.class,()=>{console.log(d.currentRoute.value);let h=`/lessons/${b.subject}?class=${b.class+1}`;d.push(h)}),X(()=>b.subject,()=>{let h=`/lessons/${b.subject}?class=${d.currentRoute.value.query.class}`;d.push(h)}),X(()=>d.currentRoute.value,()=>{i.getLessons()}),ds(()=>{Z.getSubjects()}),us(()=>{(function(){const h=document.getElementById("table"),r=h==null?void 0:h.querySelector("tbody");let g=null,_=null,E=0,L=0,Y=0,S=!1;function A(){I()}function I(){document.addEventListener("mousedown",o=>{if(o.button!=0)return!0;let n=j(o.target);n&&(g=n,p(n),g.classList.add("is-dragging"),E=R(o).y,S=!0)}),document.addEventListener("mousemove",o=>{if(!S)return;Y=R(o).y-E,t(L,Y)}),document.addEventListener("mouseup",o=>{S&&(g.classList.remove("is-dragging"),h.removeChild(_),_=null,S=!1)})}function z(o,n){let m=Array.from(r.children).indexOf(g),f=m>n?g:o,C=m>n?o:g;r.insertBefore(f,C)}function t(o,n){_.style.transform="translate3d("+o+"px, "+n+"px, 0)";let m=_.getBoundingClientRect(),f=m.y,C=f+m.height,M=w();for(var U=0;U<M.length;U++){let F=M[U],O=F.getBoundingClientRect(),P=O.y,ls=P+O.height;g!==F&&k(f,C,P,ls)&&Math.abs(f-P)<O.height/2&&z(F,U)}}function p(o){_=o.cloneNode(!0),_.classList.add("draggable-table__drag"),_.style.height=v(o,"height"),_.style.background=v(o,"backgroundColor");for(var n=0;n<o.children.length;n++){let C=o.children[n],M=_.children[n];M.style.width=v(C,"width"),M.style.height=v(C,"height"),M.style.padding=v(C,"padding"),M.style.margin=v(C,"margin")}h.appendChild(_);let m=o.getBoundingClientRect(),f=_.getBoundingClientRect();_.style.bottom=f.y-m.y-m.height+"px",_.style.left="-1px",document.dispatchEvent(new MouseEvent("mousemove",{view:window,cancelable:!0,bubbles:!0}))}function w(){return h.querySelectorAll("tbody tr")}function j(o){let n=o.tagName.toLowerCase();if(n=="tr")return o;if(n=="td")return o.closest("tr")}function R(o){return{x:o.clientX,y:o.clientY}}function v(o,n){let m=getComputedStyle(o),f=m[n];return f||null}function k(o,n,m,f){return Math.max(o,n)>=Math.min(m,f)&&Math.min(o,n)<=Math.max(m,f)}A()})()}),(h,r)=>{var I,z;const g=ns,_=js,E=Ms,L=Rs,Y=Es,S=as,A=Cs;return l(),a("main",Ss,[e(es).user.data.current_role=="main_teacher"?(l(),a("div",qs,[s("nav",Ls,[s("div",{onClick:r[0]||(r[0]=t=>h.$router.push(`/lessons?class=${e(d).currentRoute.value.query.class}`)),class:"flex items-center gap-4 cursor-pointer max-w-fit"},Ts),s("div",null,[y(g,{onClick:r[1]||(r[1]=t=>e(i).store.createModal=!0),class:"bg_orange font-semibold white !px-6"},{default:x(()=>[B("Qo‘shish")]),_:1})])]),s("section",Ys,[s("div",Is,[s("div",null,[s("h1",zs,[B(" Mavzular "),s("p",Us,"("+u(e(b).subject)+")",1)])])]),s("ul",Vs,[s("li",null,[As,y(L,{trigger:["click"]},{overlay:x(()=>[y(E,null,{default:x(()=>[(l(!0),a($,null,D(e(q),(t,p)=>(l(),H(_,{onClick:w=>e(b).class=p,key:t},{default:x(()=>[s("p",null,u(t),1)]),_:2},1032,["onClick"]))),128))]),_:1})]),default:x(()=>[s("div",Fs,[s("p",null,u(e(q)[e(d).currentRoute.value.query.class-1]),1),Os])]),_:1})])])]),Ps,s("section",Xs,[s("h1",Hs,[B(" Darslar "),s("span",Gs,"("+u((I=e(i).store.lessons)==null?void 0:I.length)+"-darslar)",1)]),s("div",Qs,[s("table",Ws,[Zs,s("tbody",null,[(l(!0),a($,null,D(e(i).store.lessons,(t,p)=>{var w,j,R,v;return l(),a("tr",{onClick:k=>h.$router.push(`${e(d).currentRoute.value.path}/${t.id}?class=${e(d).currentRoute.value.query.class}`),class:"border-b border-[#EDEDED] cursor-pointer"},[s("td",Ks,u(p+1),1),s("td",st,[s("p",null,u(t.title),1),t.video_lesson?(l(),a("p",tt,[(l(!0),a($,null,D(e(T)((j=(w=t.video_lesson[0])==null?void 0:w.video)==null?void 0:j.duration),k=>(l(),a("span",null,u(k),1))),256))])):V("",!0)]),s("td",et,[t.video_lesson?(l(),a("p",ot,[(l(!0),a($,null,D(e(T)((v=(R=t.video_lesson[0])==null?void 0:R.video)==null?void 0:v.duration),k=>(l(),a("span",null,u(k),1))),256))])):V("",!0)]),s("td",lt,u(t.totalUsers),1),nt,s("td",at,[t.user_step?(l(),a("img",ct)):(l(),a("img",rt))])],8,Js)}),256))])])])])])):(l(),a("div",it,[s("nav",dt,[s("div",{onClick:r[2]||(r[2]=t=>h.$router.push(`/lessons?class=${e(d).currentRoute.value.query.class}`)),class:"flex items-center gap-4 cursor-pointer max-w-fit"},pt),mt]),s("section",ht,[s("div",ft,[s("h1",xt,u(e(b).subject),1),bt]),s("ul",gt,[s("li",null,[vt,y(L,{trigger:["click"]},{overlay:x(()=>[y(E,null,{default:x(()=>[(l(!0),a($,null,D(e(q),(t,p)=>(l(),H(_,{onClick:w=>e(b).class=p,key:t},{default:x(()=>[s("p",null,u(t),1)]),_:2},1032,["onClick"]))),128))]),_:1})]),default:x(()=>[s("div",yt,[s("p",null,u(e(q)[e(d).currentRoute.value.query.class-1]),1),wt])]),_:1})]),s("li",null,[kt,y(L,{trigger:["click"]},{overlay:x(()=>[y(E,null,{default:x(()=>[(l(!0),a($,null,D(e(Z).store.subjects,t=>(l(),H(_,{onClick:p=>e(b).subject=t.title,key:t.id},{default:x(()=>[s("p",null,u(t.title),1)]),_:2},1032,["onClick"]))),128))]),_:1})]),default:x(()=>[s("div",$t,[s("p",null,u(e(b).subject),1),Dt])]),_:1})])])]),Rt,s("section",Ct,[s("h1",jt,[B(" Darslar "),s("span",Mt,"("+u((z=e(i).store.lessons)==null?void 0:z.length)+"-darslar)",1)]),s("div",Et,[s("table",St,[qt,s("tbody",null,[(l(!0),a($,null,D(e(i).store.lessons,(t,p)=>{var w,j,R,v,k,o;return l(),a("tr",{onClick:n=>{var m,f;return os(t,p,((m=e(i).store.user_step)==null?void 0:m.lesson_id)+1==((f=e(i).store.lessons[p])==null?void 0:f.id)||p==0||t.user_step)},class:"border-b border-[#EDEDED] cursor-pointer"},[s("td",Bt,u(p+1),1),s("td",Nt,[s("p",null,u(t.title),1),t.video_lesson?(l(),a("p",Tt,[(l(!0),a($,null,D(e(T)((j=(w=t.video_lesson[0])==null?void 0:w.video)==null?void 0:j.duration),n=>(l(),a("span",null,u(n),1))),256))])):V("",!0)]),s("td",Yt,[t.video_lesson?(l(),a("p",It,[(l(!0),a($,null,D(e(T)((v=(R=t.video_lesson[0])==null?void 0:R.video)==null?void 0:v.duration),n=>(l(),a("span",null,u(n),1))),256))])):V("",!0)]),s("td",zt,u(t.totalUsers),1),Ut,s("td",Vt,[t.user_step?(l(),a("img",At)):((k=e(i).store.user_step)==null?void 0:k.lesson_id)+1==((o=e(i).store.lessons[p])==null?void 0:o.id)||p==0?(l(),a("img",Ft)):(l(),a("img",Ot))])],8,Lt)}),256))])])])])])),y(A,{class:"max-w-[440px]",open:e(i).store.createModal,"onUpdate:open":r[7]||(r[7]=t=>e(i).store.createModal=t),centered:""},{default:x(()=>[Pt,s("form",{onSubmit:r[6]||(r[6]=ms((...t)=>e(i).createLesson&&e(i).createLesson(...t),["prevent"])),class:"space-y-5 _c45 mt-[30px]"},[s("div",Xt,[Ht,_s(s("input",{"onUpdate:modelValue":r[3]||(r[3]=t=>e(i).create.title=t),class:"rounded-[12px]",id:"name",type:"text"},null,512),[[ps,e(i).create.title]])]),s("div",Gt,[Qt,s("div",Wt,[s("div",Zt,[y(Y,{value:e(i).create.class,"onUpdate:value":r[4]||(r[4]=t=>e(i).create.class=t),class:"min-w-[145px] w-full sr_12",options:e(q).map((t,p)=>({value:p+1,label:t})),required:""},{suffixIcon:x(()=>[Jt,Kt]),_:1},8,["value","options"])])])]),y(g,{onClick:r[5]||(r[5]=t=>e(i).store.createModal=!1),type:"submit",class:"!h-12 w-full bg_orange !mt-[54px] font-semibold white"},{default:x(()=>[B(" Yaratish "),y(S)]),_:1})],32)]),_:1},8,["open"])])}}},Se=xs(se,[["__scopeId","data-v-b56f3235"]]);export{Se as default};
